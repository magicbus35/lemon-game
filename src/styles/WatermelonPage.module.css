/* ============ Theme variables (Light default) ============ */
.page{
  --wm-text:   #0f172a;     /* 본문 색 */
  --wm-stage:  #ffffff;     /* 캔버스/스테이지 배경 */
  --wm-panel:  #ffffff;     /* 카드/패널 */
  --wm-border: #d6dee6;     /* 테두리 */
  --wm-chip:   #eef3f8;     /* 뱃지/칩 */
}

/* OS 다크모드 */
@media (prefers-color-scheme: dark){
  .page{
    --wm-text:   #e6edf3;
    --wm-stage:  #0b1220;
    --wm-panel:  #0f172a;
    --wm-border: #1f2a3a;
    --wm-chip:   #152131;
  }
}

/* 앱 토글 다크모드(ThemeProvider가 <html data-theme="dark">로 설정한다고 가정) */
:root[data-theme="dark"] .page{
  --wm-text:   #e6edf3;
  --wm-stage:  #0b1220;
  --wm-panel:  #0f172a;
  --wm-border: #1f2a3a;
  --wm-chip:   #152131;
}

/* ============ Layout ============ */
.page{ color:var(--wm-text); }
.header{ display:flex; align-items:center; gap:16px; margin: 12px auto 8px; width:min(980px, 92%); }
.header h1{ margin:0; font-size:24px; font-weight:700; color:var(--wm-text); }
.stats{ margin-left:auto; display:flex; align-items:center; gap:10px; }

.badge{
  background: var(--wm-chip);
  color: var(--wm-text);
  padding: 6px 10px;
  border-radius: 999px;
  font-weight:600;
  font-size:14px;
}

.next{ display:flex; align-items:center; gap:6px; color:var(--wm-text); }
.nextDot{ width:12px; height:12px; border-radius:50%; display:inline-block; border:1px solid rgba(0,0,0,.08); }

.btn, .linkBtn{
  border:1px solid var(--wm-border);
  background: var(--wm-panel);
  color: var(--wm-text);
  padding:8px 12px;
  border-radius:10px;
  font-weight:600;
}
.btn:hover, .linkBtn:hover{ filter:brightness(1.06); }

.btnPrimary{
  background:#2563eb;
  color:#fff;
  border:1px solid transparent;
  padding:8px 14px;
  border-radius:10px;
  font-weight:700;
}
.btnPrimary[disabled]{ opacity:.7; }

.stageWrap{
  width:min(980px, 92%);
  margin: 8px auto 18px;
  display:flex; justify-content:center;
}
.canvas{
  background: var(--wm-stage);                 /* JS가 못 칠할 때 백업 */
  border:1px solid var(--wm-border);
  border-radius:12px;
  box-shadow: 0 2px 14px rgba(0,0,0,.08);
}

.footer{ display:flex; justify-content:center; margin-top:14px; }
.savePanel{
  background: var(--wm-panel);
  color: var(--wm-text);
  border:1px solid var(--wm-border);
  border-radius:14px;
  padding:14px;
  width:min(680px, 92%);
  box-shadow: 0 6px 22px rgba(0,0,0,.10);
}
.saveTitle{ font-weight:700; margin-bottom:10px; }
.saveRow{ display:flex; gap:10px; }
.input{
  flex:1 1 0;
  background: var(--wm-stage);
  color: var(--wm-text);
  border:1px solid var(--wm-border);
  border-radius:10px;
  padding:10px 12px;
}

/* 기본(라이트) — 배경보다 살짝 어둡게 */
.page{
  /* 페이지 배경(없으면 흰색) 기준으로 캔버스 색을 살짝 틀어 구분감 ↑ */
  --wm-stage: color-mix(in oklab, var(--c-surface, #ffffff) 96%, black 4%);
  --wm-stage-border: color-mix(in oklab, var(--wm-stage) 70%, black 30%);
}

/* 다크모드 — 배경보다 살짝 밝게 */
:root[data-theme="dark"] .page,
[data-theme="dark"] .page{
  --wm-stage: color-mix(in oklab, var(--c-surface, #0b1220) 82%, white 18%);
  --wm-stage-border: color-mix(in oklab, var(--wm-stage) 65%, white 35%);
}

/* OS 다크 기본도 커버하고 싶으면(선택) */
@media (prefers-color-scheme: dark){
  .page{
    --wm-stage: color-mix(in oklab, var(--c-surface, #0b1220) 82%, white 18%);
    --wm-stage-border: color-mix(in oklab, var(--wm-stage) 65%, white 35%);
  }
}

/* 캔버스 래퍼 테두리 대비 조금 올리기(선택) */
.stageWrap{
  border: 1.5px solid var(--wm-stage-border);
  border-radius: 12px;
}
